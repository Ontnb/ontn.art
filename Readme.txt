Структура сайта организована следующим образом:

Корень - /Site

В корне лежат:

1. index.html, index.css, index.js - главная страница сайта 

2. Папка с именем 1, в которой находятся превью каждой фотосессии (пронумерованы от 1 до ...). 
Эти превью отображаются на главной странице сайта (index.html) в 2 строки. 
Каждое превью на главной странице является ссылкой, которая ведет на страницу конкретной фотосессии. 
На этой странице расположены фото, прокручивающиеся в горизонтальной плоскости.

3. Html файлы страниц конкретных фотосессий (2.html, 3.html и тд.), а так же их конфиги (2.css, 2.js)

4. Папки с именами, соответствующими номерам фотосессий index.html. В этих папках лежат фото (пронумерованы от 1 до ...) с конкретной
фотосессии, а так же опционально видео. Код реализован таким образом, что если в фотосессии есть видео, то оно накрыто превью из фото.
То есть поверх видео отображено фото. Видео обязательно должно иметь то же имя, что и фото (обычно имя 1). 

5. Python-скрипт (z2.py) для автоматического генерирования новых html файлов новых фотосессий на основании фото, помещенных в пронумерованную папку.

6. Папка vids для страницы с видео (vids.html). В папку помещены все файлы видео для этой страницы, а так же папка prvw, в которой помещены
превью каждого видео.

7. vids.html, vids.css, vids.js - страница видео портфолио

8. Python-скрипт (zv.py) для автоматического генерирования новых html файлов если новые видео были помещены в папку vids.

9. Папка disk в которой помещены файлы для красивой реализации передачи фото клиенту.

10. Папка mobile - мобильная версия сайта.


Site/mobile

1. index.html, index.css, index.js - главная мобильная страница сайта. 
Сюда перенаправляется пользователь, если зашел на Site/index.html с мобильного устройства 

2. Html файлы страниц конкретных фотосессий (2.html, 3.html и тд.), а так же их конфиги (2.css, 2.js).
В 2.html, 3.html и тд. ссылки на фото и видео ведут к папкам в корне (2, 3, 4, ...) посредством относительных путей (../2/1.mp4, ../2/1.webp).



Промт для реализации/изменения скрипта:
Задача:
Напиши скрипт на Python для автоматического создания HTML-файлов на основе шаблона. Скрипт должен:

Сканировать указанную папку с медиафайлами (фото и видео).

Использовать относительные пути для всех файлов и папок.

Генерировать HTML-файл на основе предоставленного шаблона.

Для каждого видео в папке использовать соответствующее фото с тем же именем как превью.

Не добавлять фото отдельно, если оно уже используется как превью для видео.

Сохранять выходной HTML-файл в корневой папке с именем, соответствующим имени папки с медиафайлами.

Требования:

Шаблон HTML:
Используй следующий шаблон (или предоставлю новый, если потребуется):


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ontn.art</title>
    <link rel="stylesheet" href="2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+New:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Кнопки навигации -->
    <a href="index.html" class="home-link">Home</a>
    <button class="contacts-link" id="open-contacts">Contacts</button>

    <main class="portfolio-container">
       <div class="portfolio-scroll-wrapper">
        <div class="portfolio-scroll">
            <!-- Сюда будут вставлены элементы (видео и фото) -->
        </div>
       </div>
       <div class="scrollbar-container">
            <div class="scrollbar">
                <div class="scrollbar-thumb"></div>
            </div>
        </div>
    </main>

    <!-- Модальное окно контактов -->
    <div id="contacts-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="contact-info">
                <p>Tg: @onton_b</p>
                <p>Ig: @ontn_b</p>
                <p>Email: ontn_b@bk.ru</p>
            </div>
        </div>
    </div>

    <script src="2.js"></script>
</body>
</html>


Формат медиафайлов:

Фото: .jpg, .webp.

Видео: .mp4, .webm.

Для каждого видео должно быть фото с тем же именем (например, 1.mp4 и 1.webp).

Относительные пути:

Все пути должны быть относительными, чтобы скрипт работал независимо от расположения папок.

Имя выходного файла:

Имя HTML-файла должно соответствовать имени папки с медиафайлами (например, если папка называется 2, то файл будет 2.html).

Исключение дублирования фото:

Если фото используется как превью для видео, оно не должно добавляться отдельно в список медиафайлов.

Гибкость:

Скрипт должен быть легко изменяемым, чтобы можно было обновить шаблон HTML или добавить новые функции.

Пример структуры папок:

Copy
Site/
├── script.py            # Скрипт
├── 2/                   # Папка с медиафайлами
│   ├── 1.mp4
│   ├── 1.webp
│   ├── 2.webp
│   └── ...
└── 2.html               # Выходной HTML-файл
Дополнительные требования (если нужно):

Добавь комментарии к каждой строке кода, чтобы было понятно, как он работает.

Обрабатывай возможные ошибки (например, отсутствие папки с медиафайлами).

Сделай скрипт модульным, чтобы можно было легко изменять шаблон HTML или добавлять новые функции.
